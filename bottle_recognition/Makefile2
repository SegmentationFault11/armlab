CXX = g++

CXXFLAGS = 		-std=c++11 \
				-I/usr/local/include \
				-I/usr/local/include/eigen3 \
				-L/usr/local/lib

LINKFLAGS =     -lopencv_core \
				-lopencv_highgui \
				-lopencv_imgproc \
				-lopencv_nonfree \
				-lopencv_flann \
				-lopencv_objdetect \
				-lopencv_features2d \
				-lopencv_gpu \
				-lopencv_video \
				-pthread 

TARGET  = bottle_recognizer
SOURCES = $(wildcard apriltags/*.cc) \
				$(wildcard *.cpp)
OBJECTS = $(SOURCES:.cpp=.o)

all: CXXFLAGS += -O3

debug: CXXFLAGS += -g3

$(TARGET): $(OBJECTS)
	$(CXX) $(OBJECTS) $(LINKFLAGS) -o $@

%.o: %.cpp
	$(CXX) -Wall $(CXXFLAGS) -c $< -o $@

clean:
	rm -rf $(TARGET) *.o 

.PHONY:	all debug thrift clean
